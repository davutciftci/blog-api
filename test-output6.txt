
> blog-api@1.0.0 test:integration
> cross-env NODE_ENV=test NODE_OPTIONS=--experimental-vm-modules jest --config jest.integration.config.ts --runInBand

node.exe : ts-jest[ts-
jest-transformer] (WAR
N) Define `ts-jest` co
nfig under `globals` i
s deprecated. Please d
o
At line:1 char:1
+ & "C:\Program Files\
nodejs/node.exe" "C:\U
sers\Davut\AppData\Roa
ming\ ...
+ ~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo    
          : NotSpeci  
  fied: (ts-jest[ts   
 -jest...ated. Ple    
ase do:String) []    ,
 RemoteException
    + FullyQualifiedE 
   rrorId : NativeCo  
  mmandError
 
transform: {
    <transform_regex>:
 ['ts-jest', { /* ts-j
est config goes here i
n Jest */ }],
},
See more at https://ku
lshekhar.github.io/ts-
jest/docs/getting-star
ted/presets#advanced
  console.log
    ­şôè Integration Test Setup: Database URL loaded from .env.test

      at __tests__/setup/integration-setup.ts:25:9

  console.log
       Database: blog_test

      at __tests__/setup/integration-setup.ts:26:9

FAIL __tests__/integra
tion/posts.test.ts
  ÔùÅ Test suite faile
d to run

    Must use import to
 load ES Module: D:\So
ftWare\OnlyJs\Backend\
backend-projects\blog-
api\node_modules\.pris
ma\client\default.js

      at Runtime.requi
reModule (node_modules
/jest-runtime/build/in
dex.js:801:21)
      at Object.<anony
mous> (node_modules/@p
risma/client/default.j
s:2:6)


ReferenceError: You ar
e trying to `import` a
 file after the Jest e
nvironment has been to
rn down. From __tests_
_/integration/posts.te
st.ts.
  console.log
    ­şôè Integration Test Setup: Database URL loaded from .env.test

      at __tests__/setup/integration-setup.ts:25:9

  console.log
       Database: blog_test

      at __tests__/setup/integration-setup.ts:26:9

FAIL __tests__/integra
tion/auth.test.ts
  ÔùÅ Test suite faile
d to run

    Must use import to
 load ES Module: D:\So
ftWare\OnlyJs\Backend\
backend-projects\blog-
api\node_modules\.pris
ma\client\default.js

      at Runtime.requi
reModule (node_modules
/jest-runtime/build/in
dex.js:801:21)
      at Object.<anony
mous> (node_modules/@p
risma/client/default.j
s:2:6)

Test Suites: 2 failed,
 2 total
Tests:       0 total
Snapshots:   0 total
Time:        3.425 s
Ran all test suites.
Force exiting Jest: Ha
ve you considered usin
g `--detectOpenHandles
` to detect async oper
ations that kept runni
ng after all tests fin
ished?
